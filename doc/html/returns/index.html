<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

        <title>returns - Fit</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../css/prettify-1.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../overview/">Fit</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../overview/">Home</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../requirements/">Requirements</a>
                            </li>
                        
                            <li >
                                <a href="../acknowledgements/">Acknowledgements</a>
                            </li>
                        
                            <li >
                                <a href="../license/">License</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Adaptors <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../by/">by</a>
                            </li>
                        
                            <li >
                                <a href="../compose/">compose</a>
                            </li>
                        
                            <li >
                                <a href="../conditional/">conditional</a>
                            </li>
                        
                            <li >
                                <a href="../fix/">fix</a>
                            </li>
                        
                            <li >
                                <a href="../fuse/">fuse</a>
                            </li>
                        
                            <li >
                                <a href="../implicit/">implicit</a>
                            </li>
                        
                            <li >
                                <a href="../indirect/">indirect</a>
                            </li>
                        
                            <li >
                                <a href="../infix/">infix</a>
                            </li>
                        
                            <li >
                                <a href="../invoke/">invoke</a>
                            </li>
                        
                            <li >
                                <a href="../lazy/">lazy</a>
                            </li>
                        
                            <li >
                                <a href="../match/">match</a>
                            </li>
                        
                            <li >
                                <a href="../mutable/">mutable</a>
                            </li>
                        
                            <li >
                                <a href="../partial/">partial</a>
                            </li>
                        
                            <li >
                                <a href="../pipable/">pipable</a>
                            </li>
                        
                            <li >
                                <a href="../protect/">protect</a>
                            </li>
                        
                            <li >
                                <a href="../reveal/">reveal</a>
                            </li>
                        
                            <li >
                                <a href="../static/">static</a>
                            </li>
                        
                            <li >
                                <a href="../variadic/">variadic</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Functions <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../always/">always</a>
                            </li>
                        
                            <li >
                                <a href="../identity/">identity</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Utilities <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../args/">args</a>
                            </li>
                        
                            <li >
                                <a href="../is_callable/">is_callable</a>
                            </li>
                        
                            <li >
                                <a href="../lambda/">FIT_STATIC_LAMBDA</a>
                            </li>
                        
                            <li >
                                <a href="../placeholders/">placeholders</a>
                            </li>
                        
                            <li class="active">
                                <a href="./">returns</a>
                            </li>
                        
                            <li >
                                <a href="../tap/">tap</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                </ul>
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li >
                    <a rel="next" href="../placeholders/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../tap/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
                <li>
                    <a href="https://github.com/pfultz2/Fit">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#returns">returns</a></li>
        
            <li><a href="#description">Description</a></li>
        
            <li><a href="#synopsis">Synopsis</a></li>
        
            <li><a href="#example">Example</a></li>
        
    
        <li class="main "><a href="#incomplete-this">Incomplete this</a></li>
        
            <li><a href="#description_1">Description</a></li>
        
            <li><a href="#synopsis_1">Synopsis</a></li>
        
            <li><a href="#example_1">Example</a></li>
        
    
        <li class="main "><a href="#mangling-overloads">Mangling overloads</a></li>
        
            <li><a href="#description_2">Description</a></li>
        
            <li><a href="#synopsis_2">Synopsis</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="returns">returns</h1>
<h2 id="description">Description</h2>
<p>The <code>FIT_RETURNS</code> macro helps deduce the return type of an expression
using the trailing return type. Instead of repeating the expression for
the return type and using the expression in the function body, this macro
helps reduce the code duplication from that.</p>
<p>Note: A semicolon must be placed at the end of the <code>FIT_RETURNS</code>
expression.</p>
<p>Note: The expression used to deduce the return the type will also
constrain the template function as well, which is different behaviour than
using C++14's return type deduction.</p>
<h2 id="synopsis">Synopsis</h2>
<pre class="prettyprint well"><code>#define FIT_RETURNS(...)
</code></pre>
<h2 id="example">Example</h2>
<pre class="prettyprint well"><code>template&lt;class T, class U&gt;
auto sum(T x, U y) FIT_RETURNS(x+y);

assert(3 == sum(1, 2));
</code></pre>
<h1 id="incomplete-this">Incomplete this</h1>
<h2 id="description_1">Description</h2>
<p>On older compilers the <code>this</code> variable cannot be used inside the
<code>FIT_RETURNS</code> macro because it is considered an incomplete type. So the
following macros are provided to help workaround the issue.</p>
<h2 id="synopsis_1">Synopsis</h2>
<pre class="prettyprint well"><code>// Declares the type of the `this` variable
#define FIT_RETURNS_CLASS(...) 
// Used to refer to the `this` variable in the FIT_RETURNS macro
#define FIT_THIS
// Used to refer to the const `this` variable in the FIT_RETURNS macro
#define FIT_CONST_THIS
</code></pre>
<h2 id="example_1">Example</h2>
<pre class="prettyprint well"><code>struct add_1
{
    int a;
    add_1() : a(1) {}

    FIT_RETURNS_CLASS(add_1)

    template&lt;class T&gt;
    auto operator()(T x) const 
    FIT_RETURNS(x+FIT_CONST_THIS-&gt;a);
};

assert(3 == add_1()(2));
</code></pre>
<h1 id="mangling-overloads">Mangling overloads</h1>
<h2 id="description_2">Description</h2>
<p>On older compilers some operations done in the exressions cannot be
properly mangled. These macros help provide workarounds for these
operations used on these older compilers.</p>
<h2 id="synopsis_2">Synopsis</h2>
<pre class="prettyprint well"><code>// Explicitly defines the type for name mangling
#define FIT_MANGLE_CAST(...) 
// C cast for name mangling
#define FIT_RETURNS_C_CAST(...) 
// Reinterpret cast for name mangling
#define FIT_RETURNS_REINTERPRET_CAST(...) 
// Static cast for name mangling
#define FIT_RETURNS_STATIC_CAST(...) 
// Construction for name mangling
#define FIT_RETURNS_CONSTRUCT(...)
</code></pre>
</div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/prettify-1.0.min.js"></script>
        <script src="../js/base.js"></script>
        
    </body>
</html>